syms a b c d

A1 = [   -2  1   0   0   0;...
        0   -1  1   0   0;...
        0   0   -2  1   0;...
        0   0   0   -2  1;...
        0   0   0   0   -1]
B1 = [0 0; 0 0; a b; c 0; 0 d]

testM = [B1 A1*B1 (A1^2)*B1 (A1^3)*B1 (A1^4)*B1]
rank1 = rank(testM)


A1 = [   -1  1   0   0   0;...
        0   0  1   0   0;...
        0   0   -1  0   0;...
        0   0   0   -1  1;...
        0   0   0   0   0];
B1 = [0 0; 0 0; a b; 0 0; c d];

testM2 = [B1 A1*B1 (A1^2)*B1 (A1^3)*B1 (A1^4)*B1 ];
rank2 = rank(testM2);